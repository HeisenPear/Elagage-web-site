---
/**
 * Page d'accueil principale
 * Site vitrine élagueur ultra-moderne avec SEO optimisé
 */
import BaseLayout from '@/layouts/BaseLayout.astro';
import HeroSection from '@/components/sections/HeroSection.astro';
import ServicesSection from '@/components/sections/ServicesSection.astro';
import StatsCounter from '@/components/react/StatsCounter';
import { siteConfig } from '@/data/siteConfig';
import {
  getLocalBusinessSchema,
  getFAQSchema,
  getWebSiteSchema,
  combineSchemas,
} from '@/utils/schemas';

// Schémas JSON-LD pour SEO
const schemas = combineSchemas(
  getLocalBusinessSchema(),
  getWebSiteSchema(),
  getFAQSchema()
);

// Stats pour la section chiffres clés
const stats = [
  {
    value: siteConfig.stats.treesPerYear,
    label: 'arbres élagués/an',
    suffix: '+',
  },
  {
    value: siteConfig.stats.yearsExperience,
    label: "ans d'expérience",
  },
  {
    value: siteConfig.stats.satisfactionRate,
    label: 'clients satisfaits',
    suffix: '%',
  },
  {
    value: siteConfig.stats.responseTime,
    label: 'délai intervention',
    prefix: '< ',
  },
];
---

<BaseLayout
  title={siteConfig.seo.title}
  description={siteConfig.seo.description}
  keywords={siteConfig.seo.keywords}
  schema={schemas}
>
  <!-- Hero Section Fullscreen -->
  <HeroSection />

  <!-- Services Section -->
  <ServicesSection />

  <!-- Section Pourquoi nous choisir (Split screen) -->
  <section class="section-spacing bg-primary text-white relative overflow-hidden">
    <!-- Background decorative element -->
    <div class="absolute bottom-0 left-0 w-96 h-96 bg-accent/10 rounded-full blur-3xl" aria-hidden="true"></div>

    <div class="container-custom relative z-10">
      <div class="grid lg:grid-cols-2 gap-12 lg:gap-16 items-center">
        <!-- Texte (gauche) -->
        <div class="space-y-8 animate-on-scroll">
          <span class="inline-block px-4 py-2 bg-accent/20 text-accent font-semibold rounded-full text-sm uppercase tracking-wider">
            Pourquoi nous choisir
          </span>

          <h2 class="text-display-2 font-display font-bold">
            Votre élagueur de confiance en {siteConfig.serviceArea.department}
          </h2>

          <p class="text-xl text-white/80 leading-relaxed">
            Avec des clients particuliers et professionnels qui se comptent par centaines, PAYSAGISTE TOURAINE 37 est considéré comme l'un des plus sérieux de la région de Tours. Dans cette entreprise familiale, nous sommes totalement dévoués à notre métier.
          </p>

          <p class="text-xl text-white/80 leading-relaxed">
            Notre entreprise a été fondée il y a 10 ans, et nous sommes fiers de proposer des services de haute qualité à des prix abordables. Notre plus grand plaisir est la satisfaction de nos clients.
          </p>

          <!-- Points clés avec icônes -->
          <div class="space-y-6 pt-4">
            {[
              {
                title: 'Élagueur grimpeur certifié',
                description: 'Plus de 13 années d\'expérience dans les travaux d\'élagage et d\'abattage en hauteur.',
              },
              {
                title: `${siteConfig.stats.yearsExperience} ans d'expérience`,
                description: 'Centaines de clients particuliers et professionnels satisfaits dans la région de Tours.',
              },
              {
                title: 'Entreprise familiale',
                description: 'Totalement dévoués à notre métier, nous proposons des services de haute qualité à prix abordables.',
              },
              {
                title: `Intervention rapide (${siteConfig.stats.responseTime})`,
                description: 'Disponibilité maximale pour répondre à vos urgences.',
              },
            ].map((point) => (
              <div class="flex gap-4 group">
                <div class="flex-shrink-0 w-12 h-12 bg-accent/20 rounded-lg flex items-center justify-center group-hover:bg-accent transition-colors duration-300">
                  <svg class="w-6 h-6 text-accent group-hover:text-white transition-colors duration-300" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                  </svg>
                </div>
                <div>
                  <h3 class="text-xl font-bold mb-2">{point.title}</h3>
                  <p class="text-white/70">{point.description}</p>
                </div>
              </div>
            ))}
          </div>

          <!-- CTA -->
          <div class="pt-6">
            <a href="/contact" class="btn-primary inline-flex">
              <span>Demander un devis</span>
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
              </svg>
            </a>
          </div>
        </div>

        <!-- Image (droite) avec effet parallax -->
        <div class="relative animate-on-scroll">
          <div class="relative rounded-2xl overflow-hidden shadow-lift">
            <!-- Placeholder image - à remplacer par vraie photo -->
            <div class="aspect-[4/3] bg-gradient-to-br from-accent/20 to-primary-600 flex items-center justify-center">
              <svg class="w-32 h-32 text-white/30" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
              </svg>
            </div>

            <!-- Overlay avec badges certifications -->
            <div class="absolute bottom-6 left-6 right-6 bg-white/95 backdrop-blur-sm rounded-xl p-6 shadow-lg">
              <div class="flex items-center gap-4">
                <div class="w-16 h-16 bg-accent rounded-full flex items-center justify-center flex-shrink-0">
                  <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                  </svg>
                </div>
                <div>
                  <div class="font-bold text-primary mb-1">Entreprise certifiée</div>
                  <div class="text-sm text-neutral-gray">Assurance décennale • Élagueurs professionnels</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Chiffres clés avec animations counter -->
  <section class="section-spacing bg-gradient-to-br from-primary-800 to-primary text-white">
    <div class="container-custom">
      <div class="text-center max-w-3xl mx-auto mb-16 animate-on-scroll">
        <h2 class="text-display-2 font-display font-bold mb-6">
          Des résultats qui parlent d'eux-mêmes
        </h2>
        <p class="text-xl text-white/80">
          Notre expertise reconnue dans toute la région {siteConfig.serviceArea.department}.
        </p>
      </div>

      <StatsCounter client:visible stats={stats} />
    </div>
  </section>

  <!-- Section CTA Finale avec parallax -->
  <section class="relative py-32 overflow-hidden bg-gradient-to-br from-primary-900 to-primary">
    <!-- Image de fond parallax - Décommentez quand l'image cta-bg.jpg est ajoutée -->
    <!--
    <div class="absolute inset-0 -z-10">
      <div
        class="w-full h-full bg-cover bg-center bg-fixed"
        style="background-image: linear-gradient(rgba(10, 46, 28, 0.85), rgba(10, 46, 28, 0.85)), url('/images/cta-bg.jpg');"
      >
      </div>
    </div>
    -->

    <div class="container-custom relative z-10 text-center text-white">
      <div class="max-w-4xl mx-auto space-y-8 animate-on-scroll">
        <h2 class="text-display-2 font-display font-bold">
          Besoin d'un élagueur professionnel ?
        </h2>
        <p class="text-2xl text-white/90">
          Devis gratuit sous 24h • Intervention rapide • Travail soigné
        </p>

        <!-- CTA Buttons -->
        <div class="flex flex-col sm:flex-row items-center justify-center gap-6 pt-8">
          <a href={`tel:${siteConfig.business.phone}`} class="btn-primary inline-flex text-lg px-10 py-6">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
            </svg>
            <span>Appeler maintenant</span>
          </a>

          <a href="/contact" class="inline-flex items-center gap-3 px-10 py-6 border-2 border-white text-white font-bold text-lg rounded-xl transition-all duration-300 hover:bg-white hover:text-primary hover:scale-105">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
            </svg>
            <span>Devis en ligne</span>
          </a>
        </div>

        <!-- Info supplémentaire -->
        <p class="text-white/70 pt-6">
          Disponible du lundi au samedi • Zone d'intervention : {siteConfig.serviceArea.radius} km autour de {siteConfig.serviceArea.mainCity}
        </p>
      </div>
    </div>
  </section>
</BaseLayout>
