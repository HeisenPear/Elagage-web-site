---
/**
 * Header avec navigation sticky moderne
 * - Transparent au chargement, devient opaque au scroll
 * - Menu burger minimaliste (toutes tailles écran)
 * - Overlay fullscreen avec animations stagger
 */
import { siteConfig } from '@/data/siteConfig';
import MobileMenu from '@/components/react/MobileMenu';

const navLinks = [
  { name: 'Accueil', href: '/' },
  { name: 'Services', href: '/#services' },
  { name: 'Contact', href: '/contact' },
];
---

<header
  id="header"
  class="fixed top-0 left-0 right-0 z-50 bg-primary shadow-soft transition-all duration-500"
  data-header
>
  <div class="container-custom">
    <div class="flex items-center justify-between h-20 md:h-24">
      <!-- Logo -->
      <a
        href="/"
        class="flex items-center gap-3 text-white font-display font-bold text-xl md:text-2xl transition-all duration-500 group"
        aria-label="Retour à l'accueil"
      >
        <!-- Logo SVG (à remplacer par votre vrai logo) -->
        <div class="w-10 h-10 md:w-12 md:h-12 relative">
          <svg
            viewBox="0 0 48 48"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            class="w-full h-full transition-transform duration-300 group-hover:scale-110"
            aria-hidden="true"
          >
            <circle cx="24" cy="24" r="22" stroke="currentColor" stroke-width="2" />
            <path
              d="M24 8 L24 28 M18 20 L24 14 L30 20"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M16 32 Q20 28 24 32 T32 32"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              fill="none"
            />
          </svg>
        </div>
        <span class="hidden sm:inline">{siteConfig.business.name}</span>
      </a>

      <!-- Navigation desktop (cachée sur mobile) -->
      <nav class="hidden lg:flex items-center gap-8 transition-all duration-500" role="navigation" aria-label="Navigation principale" data-header-nav>
        {
          navLinks.map((link) => (
            <a
              href={link.href}
              class="text-white/90 hover:text-white font-medium transition-colors duration-300 relative group"
            >
              {link.name}
              <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-accent transition-all duration-300 group-hover:w-full" />
            </a>
          ))
        }
      </nav>

      <!-- Menu burger -->
      <MobileMenu client:load navLinks={navLinks} />
    </div>
  </div>
</header>


<style>
  /* Smooth scroll anchor offset */
  :target {
    scroll-margin-top: 100px;
  }

  /* Responsive mobile */
  @media (max-width: 640px) {
    /* Header plus compact sur mobile */
    #header {
      height: auto;
    }

    /* Logo plus petit sur mobile */
    #header [data-header-logo] {
      font-size: 1rem;
      gap: 0.5rem;
    }

    /* Container avec moins de padding sur mobile */
    #header .container-custom {
      padding-left: 16px;
      padding-right: 16px;
    }
  }

  /* Responsive tablette */
  @media (min-width: 641px) and (max-width: 1023px) {
    #header {
      height: auto;
    }
  }
</style>
